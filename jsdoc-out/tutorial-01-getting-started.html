<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: Getting Started with Suman</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Tutorial: Getting Started with Suman</h1>

    <section>

<header>
    

    <h2>Getting Started with Suman</h2>
</header>

<article>
    <h3>:: Installation ::</h3><ol>
<li><p>=&gt; <span style="background-color:#FF8C00">&nbsp;<code>$ npm install -g suman</code></span></p>
</li>
<li><p>=&gt; cd into the project where you want to use Suman to power your tests</p>
</li>
<li><p>=&gt; Run <span style="background-color:#FF8C00">&nbsp;<code>$ suman --init</code></span></p>
</li>
</ol>
<p>You have installed Suman, and now you will see that you have some new files in your project. 
You have a <span style="background-color:#DCDCDC"><code>suman.conf.js</code></span> file at the root of your project.
You also have a directory called suman at the root of your project which contains 3 files, <span style="background-color:#DCDCDC"><code>suman.once.js</code></span>, <span style="background-color:#DCDCDC"><code>suman.order.js</code></span>,
<span style="background-color:#DCDCDC"><code>suman.ioc.js</code></span>. If you want to find out what these files are for, go to the Advanced Usage section from the home page, 
but for now, if you are brand new to suman you can ignore those and come back to them later.</p>
<h2>Alright, let's run a test</h2><p>Individual test suite files can be run with either <span style="background-color:#9ACD32">&nbsp;<code>$ node path/to/your-test.js</code></span> 
or <span style="background-color:#9ACD32">&nbsp;<code>$ suman path/to/your-test.js</code></span>,
the result is the same.</p>
<p>To use the Suman runner, you use <span style="background-color:#9ACD32">&nbsp;<code>$ suman --rnr path/to/your-test.js</code></span>  or simply point suman to a directory like so <span style="background-color:#9ACD32">&nbsp;<code>$ suman path/to/tests/folder</code></span>
and suman will use the runner, because if you point Suman at a folder, Suman must use the Suman runner to run the tests. 
If you point Suman at an individual test file, you the developer have the choice about whether to use the runner or not, using the <span style="background-color:#9ACD32"><code>--rnr</code></span> flag.</p>
<p>The biggest advantage of using the runner with a single test file is that the runner can suppress your
console.log/debugging output, because using the runner will run your test suite in a child_process.</p>
<p>Here is a simple test file you can use to try Suman out, put the code in any .js file and run it with one of the above commands.</p>
<pre class="prettyprint source lang-js"><code>
const suman = require('suman');
const Test = suman.init(module);


Test.describe('SimpleTest', function (assert, fs, http, os) {


    this.it('tests-arrays', function () {
        assert.equal(typeof [], 'object');
    });


    ['describe', 'it', 'before', 'after', 'afterEach'].forEach(item => {

        this.it('tests-suman suite block for: ' + item, function () {
            assert(this.hasOwnProperty(item));
        });

    });

    this.it('Check that Test.file is equiv. to module.filename', {timeout:3000},  done => {
        setTimeout(function(){
            assert(module.filename === Test.file);
            done();
        },2999);
    });


    this.it('reads this file, pipes to /dev/null', (fail, pass) => {

        const destFile = os.hostname === 'win32' ? process.env.USERPROFILE + '/temp' : '/dev/null';

        fs.createReadStream(Test.file).pipe(fs.createWriteStream(destFile))
            .on('error', fail).on('finish', pass);

    });


    this.it('uses promises to handle http', {timeout: 4000}, function () {

        return new Promise(function (resolve, reject) {

            const req = http.request({

                method: 'GET',
                hostname: 'example.com'

            }, res => {

                var data = '';

                res.on('data', function (d) {
                    data += d;
                });

                res.on('end', function () {

                    assert(typeof data === 'string');
                    resolve();

                });

            });

            req.end();
            req.on('error', reject);
        });

    });

});</code></pre>
</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Tutorials</h3><ul><li><a href="tutorial-01-getting-started.html">Getting Started with Suman</a></li><li><a href="tutorial-011-high-level-overview.html">Higher Level Overview</a></li><li><a href="tutorial-02-simple-examples.html">Simple Examples</a></li><li><a href="tutorial-05-advanced-use.html">Advanced Use</a></li><li><a href="tutorial-07-suman-patterns-and-recipes.html">Suman Patterns and Recipes</a></li><li><a href="tutorial-08-suman-anti-patterns.html">Suman Anti-Patterns</a></li><li><a href="tutorial-12-using-suman-with-babel.html">Using Suman with Babel</a></li><li><a href="tutorial-19-converting-from-mocha.html">Converting from Mocha to Suman</a></li><li><a href="tutorial-30-anatomy-of-suman-suite.html">Anatomy of Suman Test Suites</a></li><li><a href="tutorial-40-integrating-with-ci-cd.html">Integrating with CI/CD</a></li><li><a href="tutorial-50-suman-parallelism.html">50-suman-parallelism</a></li><li><a href="tutorial-70-usage-with-code-coverage-tools.html">70-usage-with-code-coverage-tools</a></li><li><a href="tutorial-90-roadmap.html">90-roadmap</a></li><li><a href="tutorial-99-faq.html">FAQ</a></li><li><a href="tutorial-bash.html">bash</a></li><li><a href="tutorial-suman-best-practices.html">suman-best-practices</a></li><li><a href="tutorial-suman-reporters.html">suman-reporters</a></li><li><a href="tutorial-suman-server-and-web-reporter.html">suman-server-and-web-reporter</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Apr 14 2016 00:25:10 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>