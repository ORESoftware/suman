<!DOCTYPE html>
<html>
<head>
  <title>Gantt Chart Example 1</title>
  <link type="text/css" href="http://mbostock.github.io/d3/style.css" rel="stylesheet"/>


  <style>
    html, body, #wrapper {
      width: 100%;
      height: 100%;
      margin: 0;
    }

    .chart {
      font-family: Arial, sans-serif;
      font-size: 12px;
    }

    .axis path, .axis line {
      fill: none;
      stroke: #000;
      shape-rendering: crispEdges;
    }

    .bar {
      fill: #33b5e5;
    }

    .bar-failed {
      fill: #CC0000;
    }

    .bar-running {
      fill: #669900;
    }

    .bar-succeeded {
      fill: #33b5e5;
    }

    .bar-killed {
      fill: #ffbb33;
    }

    #forkme_banner {
      display: block;
      position: absolute;
      top: 0;
      right: 10px;
      z-index: 10;
      padding: 10px 50px 10px 10px;
      color: #fff;
      background: url('http://dk8996.github.io/Gantt-Chart/images/blacktocat.png') #0090ff no-repeat 95% 50%;
      font-weight: 700;
      box-shadow: 0 0 10px rgba(0, 0, 0, .5);
      border-bottom-left-radius: 2px;
      border-bottom-right-radius: 2px;
      text-decoration: none;
    }
  </style>

</head>
<body>

<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="http://static.mentful.com/gantt-chart-d3v2.js"></script>


<script>
  let tasksOriginal = [
    {
      "startDate": new Date("Sun Dec 09 01:36:45 EST 2012"),
      "endDate": new Date("Sun Dec 09 02:36:45 EST 2012"),
      "taskName": "E Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 04:56:32 EST 2012"),
      "endDate": new Date("Sun Dec 09 06:35:47 EST 2012"),
      "taskName": "A Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 06:29:53 EST 2012"),
      "endDate": new Date("Sun Dec 09 06:34:04 EST 2012"),
      "taskName": "D Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 05:35:21 EST 2012"),
      "endDate": new Date("Sun Dec 09 06:21:22 EST 2012"),
      "taskName": "P Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 05:00:06 EST 2012"),
      "endDate": new Date("Sun Dec 09 05:05:07 EST 2012"),
      "taskName": "D Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 03:46:59 EST 2012"),
      "endDate": new Date("Sun Dec 09 04:54:19 EST 2012"),
      "taskName": "P Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 04:02:45 EST 2012"),
      "endDate": new Date("Sun Dec 09 04:48:56 EST 2012"),
      "taskName": "N Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 03:27:35 EST 2012"),
      "endDate": new Date("Sun Dec 09 03:58:43 EST 2012"),
      "taskName": "E Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 01:40:11 EST 2012"),
      "endDate": new Date("Sun Dec 09 03:26:35 EST 2012"),
      "taskName": "A Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 03:00:03 EST 2012"),
      "endDate": new Date("Sun Dec 09 03:09:51 EST 2012"),
      "taskName": "D Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 01:21:00 EST 2012"),
      "endDate": new Date("Sun Dec 09 02:51:42 EST 2012"),
      "taskName": "P Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 01:08:42 EST 2012"),
      "endDate": new Date("Sun Dec 09 01:33:42 EST 2012"),
      "taskName": "N Job",
      "status": "FAILED"
    },
    {
      "startDate": new Date("Sun Dec 09 00:27:15 EST 2012"),
      "endDate": new Date("Sun Dec 09 00:54:56 EST 2012"),
      "taskName": "E Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 00:29:48 EST 2012"),
      "endDate": new Date("Sun Dec 09 00:44:50 EST 2012"),
      "taskName": "D Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 07:39:21 EST 2012"),
      "endDate": new Date("Sun Dec 09 07:43:22 EST 2012"),
      "taskName": "P Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 07:00:06 EST 2012"),
      "endDate": new Date("Sun Dec 09 07:05:07 EST 2012"),
      "taskName": "D Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 08:46:59 EST 2012"),
      "endDate": new Date("Sun Dec 09 09:54:19 EST 2012"),
      "taskName": "P Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 09:02:45 EST 2012"),
      "endDate": new Date("Sun Dec 09 09:48:56 EST 2012"),
      "taskName": "N Job",
      "status": "RUNNING"
    },
    {
      "startDate": new Date("Sun Dec 09 08:27:35 EST 2012"),
      "endDate": new Date("Sun Dec 09 08:58:43 EST 2012"),
      "taskName": "E Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 08:40:11 EST 2012"),
      "endDate": new Date("Sun Dec 09 08:46:35 EST 2012"),
      "taskName": "A Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 08:00:03 EST 2012"),
      "endDate": new Date("Sun Dec 09 08:09:51 EST 2012"),
      "taskName": "D Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 10:21:00 EST 2012"),
      "endDate": new Date("Sun Dec 09 10:51:42 EST 2012"),
      "taskName": "P Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sun Dec 09 11:08:42 EST 2012"),
      "endDate": new Date("Sun Dec 09 11:33:42 EST 2012"),
      "taskName": "N Job",
      "status": "FAILED"
    },
    {
      "startDate": new Date("Sun Dec 09 12:27:15 EST 2012"),
      "endDate": new Date("Sun Dec 09 12:54:56 EST 2012"),
      "taskName": "E Job",
      "status": "SUCCEEDED"
    },
    {
      "startDate": new Date("Sat Dec 08 23:12:24 EST 2012"),
      "endDate": new Date("Sun Dec 09 00:26:13 EST 2012"),
      "taskName": "A Job",
      "status": "KILLED"
    }];

  let tasksRaw = JSON.parse('[{"startDate":1504324604963,"endDate":1504324605673,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/async-registry-error/one.test.js","status":"FAILED"},{"startDate":1504324605025,"endDate":1504324606045,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/bail-feature/one.test.js","status":"FAILED"},{"startDate":1504324605675,"endDate":1504324606717,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/build-recursion-tests/empty.test.js","status":"FAILED"},{"startDate":1504324606049,"endDate":1504324607155,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/build-recursion-tests/tes-t7-start.test.js","status":"SUCCEEDED"},{"startDate":1504324606720,"endDate":1504324607794,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/build-recursion-tests/tes-t7.js","status":"SUCCEEDED"},{"startDate":1504324607157,"endDate":1504324608512,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/build-recursion-tests/test6.test.js","status":"SUCCEEDED"},{"startDate":1504324607796,"endDate":1504324608388,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/dep-injection/one.test.js","status":"FAILED"},{"startDate":1504324608392,"endDate":1504324609172,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/dep-injection/with-async-lib.js","status":"FAILED"},{"startDate":1504324608515,"endDate":1504324609085,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/gulp-usage/two.js","status":"FAILED"},{"startDate":1504324609088,"endDate":1504324610366,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/integration-tests/test0.js","status":"SUCCEEDED"},{"startDate":1504324609175,"endDate":1504324609955,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/integration-tests/test1.js","status":"SUCCEEDED"},{"startDate":1504324609958,"endDate":1504324610731,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/integration-tests/test2.js","status":"SUCCEEDED"},{"startDate":1504324610369,"endDate":1504324611102,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/integration-tests/test3.js","status":"FAILED"},{"startDate":1504324610734,"endDate":1504324611993,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/integration-tests/test4.js","status":"SUCCEEDED"},{"startDate":1504324611105,"endDate":1504324612477,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/integration-tests/test5.js","status":"SUCCEEDED"},{"startDate":1504324611995,"endDate":1504324615968,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/integration-tests/test6.js","status":"SUCCEEDED"},{"startDate":1504324612480,"endDate":1504324612725,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/module-load-precedence/cluster-load.js","status":"SUCCEEDED"},{"startDate":1504324612729,"endDate":1504324615402,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/multiple-test-suites/one.test.js","status":"SUCCEEDED"},{"startDate":1504324615405,"endDate":1504324616425,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/multiple-test-suites/two.test.js","status":"SUCCEEDED"},{"startDate":1504324615971,"endDate":1504324618647,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/other-tests/test3.js","status":"SUCCEEDED"},{"startDate":1504324616428,"endDate":1504324617122,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/other-tests/test4.js","status":"SUCCEEDED"},{"startDate":1504324617126,"endDate":1504324617817,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/other-tests/test5.js","status":"SUCCEEDED"},{"startDate":1504324617820,"endDate":1504324618836,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/other-tests/test6.js","status":"SUCCEEDED"},{"startDate":1504324618650,"endDate":1504324619452,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/par-vs-series/par-vs-series-1.js","status":"SUCCEEDED"},{"startDate":1504324618838,"endDate":1504324622022,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/par-vs-series/par-vs-series-2.js","status":"SUCCEEDED"},{"startDate":1504324619455,"endDate":1504324622121,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/par-vs-series/par-vs-series-3.js","status":"SUCCEEDED"},{"startDate":1504324622025,"endDate":1504324622896,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/plan-and-confirm/one.test.js","status":"SUCCEEDED"},{"startDate":1504324622124,"endDate":1504324622833,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/plan-and-confirm/two.test.js","status":"SUCCEEDED"},{"startDate":1504324622835,"endDate":1504324623679,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/simple-tests/one-1.js","status":"SUCCEEDED"},{"startDate":1504324622898,"endDate":1504324623624,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/skip-and-only/one.test.js","status":"SUCCEEDED"},{"startDate":1504324623627,"endDate":1504324624277,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/skip-and-only/three.test.js","status":"SUCCEEDED"},{"startDate":1504324623684,"endDate":1504324624395,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/skip-and-only/two.test.js","status":"SUCCEEDED"},{"startDate":1504324624281,"endDate":1504324624980,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/stubbed-hooks-and-test-cases/one.test.js","status":"SUCCEEDED"},{"startDate":1504324624398,"endDate":1504324625015,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/stubbed-hooks-and-test-cases/two.test.js","status":"SUCCEEDED"},{"startDate":1504324624985,"endDate":1504324625925,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/suman-single-process/par-vs-series-1.js","status":"SUCCEEDED"},{"startDate":1504324625019,"endDate":1504324626352,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/suman-single-process/par-vs-series-2.js","status":"SUCCEEDED"},{"startDate":1504324625928,"endDate":1504324627238,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/suman-single-process/par-vs-series-3.js","status":"SUCCEEDED"},{"startDate":1504324626354,"endDate":1504324631027,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/test-suites-in-series/b.test.js","status":"SUCCEEDED"},{"startDate":1504324627240,"endDate":1504324629927,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/test-suites-in-series/a.test.js","status":"SUCCEEDED"},{"startDate":1504324629930,"endDate":1504324630573,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/test-tests/generatorz-babel.js","status":"SUCCEEDED"},{"startDate":1504324630576,"endDate":1504324631277,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/test-tests/generatorz.js","status":"SUCCEEDED"},{"startDate":1504324631030,"endDate":1504324631720,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/test-tests/many-commands.js","status":"SUCCEEDED"},{"startDate":1504324631280,"endDate":1504324632016,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/test-tests/one.js","status":"SUCCEEDED"},{"startDate":1504324631723,"endDate":1504324632425,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/test-tests/two.js","status":"SUCCEEDED"},{"startDate":1504324604209,"endDate":1504324604960,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/use-async-lib/one.test.js","status":"SUCCEEDED"},{"startDate":1504324604204,"endDate":1504324605022,"transformStartDate":null,"transformEndDate":null,"taskName":"/Users/alexamil/WebstormProjects/oresoftware/sumanjs/suman/test/src/es5-es6/use-async-lib/two.test.js","status":"SUCCEEDED"}]');

  let tasks = [];

  tasksRaw.forEach(function (t) {

    // we have two separate tasks per item, one for transform, one for run
    if (t.transformStartDate && t.transformEndDate) {
      tasks.push({
        taskName: t.taskName,
        startDate: new Date(t.transformStartDate),
        endDate: new Date(t.transformEndDate),
        status: 'SUCCEEDED'
      });
    }

    if (t.startDate && t.endDate) {
      tasks.push({
        taskName: t.taskName,
        startDate: new Date(t.startDate),
        endDate: new Date(t.endDate),
        status: t.status
      });
    }
  });

  let taskStatus = {
    "SUCCEEDED": "bar",
    "FAILED": "bar-failed",
    "RUNNING": "bar-running",
    "KILLED": "bar-killed"
  };

  let taskNamesOriginal = ["D Job", "P Job", "E Job", "A Job", "N Job"];

  let taskNames = tasks.map(function (t) {
    return t.taskName;
  });

  tasks.sort(function (a, b) {
    return a.endDate - b.endDate;
  });

  let maxDate = tasks[tasks.length - 1].endDate;

  tasks.sort(function (a, b) {
    return a.startDate - b.startDate;
  });

  let minDate = tasks[0].startDate;

  let format = "%H:%M:%S";
  let gantt = d3.gantt().taskTypes(taskNames).taskStatus(taskStatus).tickFormat(format);

  gantt(tasks);

</script>


</body>
</html>
