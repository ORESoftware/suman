{
    "rules": [
        {
            "OR": [
                {"event.incident.source" : "== 'IVR'"}
            ],
            "ACTION" : [
                {
                    "rules" : [
                        {
                            "OR" : [
                                {"event.events[0].type" : "== null"},
                                {"event.events[0].type" : "== 0"},
                                {"event.events[0].type" : "== 'x'"}
                            ],
                            "ACTION" : [
                                {
                                    "rules" : [
                                        {
                                            "OR" : [
                                                {"event.events[0].data.nlName" : "== null"},
                                                {"event.events[0].data.nlName" : "== 0"},
                                                {"event.events[0].data.nlName" : "== 'x'"}
                                            ],
                                            "ACTION": [
                                                {
                                                    "name" : "populateEvent",
                                                    "parameters" : [],
                                                    "execMethod" : "series"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "OR" : [
                                {"event.events[0].data.nlName" : "== null"},
                                {"event.events[0].data.nlName" : "== 0"},
                                {"event.events[0].data.nlName" : "== 'x'"}
                            ],
                            "ACTION" : [
                                {
                                    "rules" : [
                                        {
                                            "AND" : [
                                                {"event.events[0].type" : "!= null"},
                                                {"event.events[0].type" : "!= 0"},
                                                {"event.events[0].type" : "!= 'x'"}
                                            ],
                                            "ACTION": [
                                                {
                                                    "name" : "replaceVal",
                                                    "parameters" : ["event.events[0].data.nlName","event.events[0].data.IVRBucket"],
                                                    "execMethod" : "series"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ],
                    "execMethod" : "series"
                },
                {
                     "name" : "enrichForCS",
                     "parameters" : ["event.events[0].type", "req"],
                     "execMethod" : "series"
                }
            ]
        },
        {
            "AND" : [
                {"event.incident.source" : "== 'STB'"}
            ],
            "ACTION" : [
                {"name" : "enrichForCS",
                 "parameters" : ["event.events[0].data.statusDesc", "req"]
                },
                {
                    "rules" :[
                        {
                            "OR": [
                                {"event.events[0].error_code" : "== 'SRM-999999'"},
                                {"event.events[0].error_code" : "== 'SRM-36866'"},
                                {"event.events[0].error_code" : "== 'SRM-128'"},
                                {"event.events[0].error_code" : "== 'SRM-36896'"},
                                {"event.events[0].error_code" : "== 'SRM-9020'"},
                                {"event.incident.error_code" : "== 'SRM-999999'"},
                                {"event.incident.error_code" : "== 'SRM-36866'"},
                                {"event.incident.error_code" : "== 'SRM-128'"},
                                {"event.incident.error_code" : "== 'SRM-36896'"},
                                {"event.incident.error_code" : "== 'SRM-9020'"}
                            ],
                            "AND" : [
                                {"event.events[0].data.division" : "== 'WEST'"}
                            ],
                            "ACTION" : [
                                {   "name" : "constructForTVNS",
                                     "parameters" : ["event.events[0].data.statusDesc"]
                                }
                            ]
                        }
                    ]
                }
                
            ]
        }
    ]
    
}

